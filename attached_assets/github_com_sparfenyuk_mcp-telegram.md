URL: https://github.com/sparfenyuk/mcp-telegram
---
[Skip to content](https://github.com/sparfenyuk/mcp-telegram#start-of-content)

You signed in with another tab or window. [Reload](https://github.com/sparfenyuk/mcp-telegram) to refresh your session.You signed out in another tab or window. [Reload](https://github.com/sparfenyuk/mcp-telegram) to refresh your session.You switched accounts on another tab or window. [Reload](https://github.com/sparfenyuk/mcp-telegram) to refresh your session.Dismiss alert

[sparfenyuk](https://github.com/sparfenyuk)/ **[mcp-telegram](https://github.com/sparfenyuk/mcp-telegram)** Public

- [Notifications](https://github.com/login?return_to=%2Fsparfenyuk%2Fmcp-telegram) You must be signed in to change notification settings
- [Fork\\
3](https://github.com/login?return_to=%2Fsparfenyuk%2Fmcp-telegram)
- [Star\\
15](https://github.com/login?return_to=%2Fsparfenyuk%2Fmcp-telegram)


MCP server to work with Telegram through MTProto


### License

[MIT license](https://github.com/sparfenyuk/mcp-telegram/blob/main/LICENSE)

[15\\
stars](https://github.com/sparfenyuk/mcp-telegram/stargazers) [3\\
forks](https://github.com/sparfenyuk/mcp-telegram/forks) [Branches](https://github.com/sparfenyuk/mcp-telegram/branches) [Tags](https://github.com/sparfenyuk/mcp-telegram/tags) [Activity](https://github.com/sparfenyuk/mcp-telegram/activity)

[Star](https://github.com/login?return_to=%2Fsparfenyuk%2Fmcp-telegram)

[Notifications](https://github.com/login?return_to=%2Fsparfenyuk%2Fmcp-telegram) You must be signed in to change notification settings

# sparfenyuk/mcp-telegram

main

[**1** Branch](https://github.com/sparfenyuk/mcp-telegram/branches) [**2** Tags](https://github.com/sparfenyuk/mcp-telegram/tags)

[Go to Branches page](https://github.com/sparfenyuk/mcp-telegram/branches)[Go to Tags page](https://github.com/sparfenyuk/mcp-telegram/tags)

Go to file

Code

## Folders and files

| Name | Name | Last commit message | Last commit date |
| --- | --- | --- | --- |
| ## Latest commit<br>[![sparfenyuk](https://avatars.githubusercontent.com/u/134065?v=4&size=40)](https://github.com/sparfenyuk)[sparfenyuk](https://github.com/sparfenyuk/mcp-telegram/commits?author=sparfenyuk)<br>[chore: bump version](https://github.com/sparfenyuk/mcp-telegram/commit/796f8f282558731320825c93f4581ece582ac6f4)<br>Dec 13, 2024<br>[796f8f2](https://github.com/sparfenyuk/mcp-telegram/commit/796f8f282558731320825c93f4581ece582ac6f4) · Dec 13, 2024<br>## History<br>[15 Commits](https://github.com/sparfenyuk/mcp-telegram/commits/main/) |
| [src/mcp\_telegram](https://github.com/sparfenyuk/mcp-telegram/tree/main/src/mcp_telegram "This path skips through empty directories") | [src/mcp\_telegram](https://github.com/sparfenyuk/mcp-telegram/tree/main/src/mcp_telegram "This path skips through empty directories") |  |  |
| [.gitignore](https://github.com/sparfenyuk/mcp-telegram/blob/main/.gitignore ".gitignore") | [.gitignore](https://github.com/sparfenyuk/mcp-telegram/blob/main/.gitignore ".gitignore") |  |  |
| [.mise.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/.mise.toml ".mise.toml") | [.mise.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/.mise.toml ".mise.toml") |  |  |
| [.pre-commit-config.yaml](https://github.com/sparfenyuk/mcp-telegram/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml") | [.pre-commit-config.yaml](https://github.com/sparfenyuk/mcp-telegram/blob/main/.pre-commit-config.yaml ".pre-commit-config.yaml") |  |  |
| [CHANGELOG.md](https://github.com/sparfenyuk/mcp-telegram/blob/main/CHANGELOG.md "CHANGELOG.md") | [CHANGELOG.md](https://github.com/sparfenyuk/mcp-telegram/blob/main/CHANGELOG.md "CHANGELOG.md") |  |  |
| [LICENSE](https://github.com/sparfenyuk/mcp-telegram/blob/main/LICENSE "LICENSE") | [LICENSE](https://github.com/sparfenyuk/mcp-telegram/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](https://github.com/sparfenyuk/mcp-telegram/blob/main/README.md "README.md") | [README.md](https://github.com/sparfenyuk/mcp-telegram/blob/main/README.md "README.md") |  |  |
| [cli.py](https://github.com/sparfenyuk/mcp-telegram/blob/main/cli.py "cli.py") | [cli.py](https://github.com/sparfenyuk/mcp-telegram/blob/main/cli.py "cli.py") |  |  |
| [cog.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/cog.toml "cog.toml") | [cog.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/cog.toml "cog.toml") |  |  |
| [pyproject.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/pyproject.toml "pyproject.toml") | [pyproject.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/pyproject.toml "pyproject.toml") |  |  |
| [ruff.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/ruff.toml "ruff.toml") | [ruff.toml](https://github.com/sparfenyuk/mcp-telegram/blob/main/ruff.toml "ruff.toml") |  |  |
| [uv.lock](https://github.com/sparfenyuk/mcp-telegram/blob/main/uv.lock "uv.lock") | [uv.lock](https://github.com/sparfenyuk/mcp-telegram/blob/main/uv.lock "uv.lock") |  |  |
| View all files |

## Repository files navigation

# Telegram MCP server

[Permalink: Telegram MCP server](https://github.com/sparfenyuk/mcp-telegram#telegram-mcp-server)

- [Telegram MCP server](https://github.com/sparfenyuk/mcp-telegram#telegram-mcp-server)
  - [About](https://github.com/sparfenyuk/mcp-telegram#about)
  - [What is MCP?](https://github.com/sparfenyuk/mcp-telegram#what-is-mcp)
  - [What does this server do?](https://github.com/sparfenyuk/mcp-telegram#what-does-this-server-do)
  - [Practical use cases](https://github.com/sparfenyuk/mcp-telegram#practical-use-cases)
  - [Prerequisites](https://github.com/sparfenyuk/mcp-telegram#prerequisites)
  - [Installation](https://github.com/sparfenyuk/mcp-telegram#installation)
  - [Configuration](https://github.com/sparfenyuk/mcp-telegram#configuration)
    - [Telegram API Configuration](https://github.com/sparfenyuk/mcp-telegram#telegram-api-configuration)
    - [Claude Desktop Configuration](https://github.com/sparfenyuk/mcp-telegram#claude-desktop-configuration)
    - [Telegram Configuration](https://github.com/sparfenyuk/mcp-telegram#telegram-configuration)
  - [Development](https://github.com/sparfenyuk/mcp-telegram#development)
    - [Getting started](https://github.com/sparfenyuk/mcp-telegram#getting-started)
    - [Debugging the server in terminal](https://github.com/sparfenyuk/mcp-telegram#debugging-the-server-in-terminal)
    - [Debugging the server in the Inspector](https://github.com/sparfenyuk/mcp-telegram#debugging-the-server-in-the-inspector)
  - [Troubleshooting](https://github.com/sparfenyuk/mcp-telegram#troubleshooting)
    - [Message 'Could not connect to MCP server mcp-telegram'](https://github.com/sparfenyuk/mcp-telegram#message-could-not-connect-to-mcp-server-mcp-telegram)

## About

[Permalink: About](https://github.com/sparfenyuk/mcp-telegram#about)

The server is a bridge between the Telegram API and the AI assistants and is based on the [Model Context Protocol](https://modelcontextprotocol.io/).

Important

Ensure that you have read and understood the [Telegram API Terms of Service](https://core.telegram.org/api/terms) before using this server.
Any misuse of the Telegram API may result in the suspension of your account.

## What is MCP?

[Permalink: What is MCP?](https://github.com/sparfenyuk/mcp-telegram#what-is-mcp)

The Model Context Protocol (MCP) is a system that lets AI apps, like Claude Desktop, connect to external tools and data sources. It gives a clear and safe way for AI assistants to work with local services and APIs while keeping the user in control.

## What does this server do?

[Permalink: What does this server do?](https://github.com/sparfenyuk/mcp-telegram#what-does-this-server-do)

As of not, the server provides read-only access to the Telegram API.

- [x]  Get the list of dialogs (chats, channels, groups)
- [x]  Get the list of (unread) messages in the given dialog
- [ ]  Mark chanel as read
- [ ]  Retrieve messages by date and time
- [ ]  Download media files
- [ ]  Get the list of contacts
- [ ]  Draft a message
- ...

## Practical use cases

[Permalink: Practical use cases](https://github.com/sparfenyuk/mcp-telegram#practical-use-cases)

- [x]  Create a summary of the unread messages
- [ ]  Find contacts with upcoming birthdays and schedule a greeting
- [ ]  Find discussions on a given topic, summarize them and provide a list of links

## Prerequisites

[Permalink: Prerequisites](https://github.com/sparfenyuk/mcp-telegram#prerequisites)

- [`uv` tool](https://docs.astral.sh/uv/getting-started/installation/)

## Installation

[Permalink: Installation](https://github.com/sparfenyuk/mcp-telegram#installation)

```
uv tool install git+https://github.com/sparfenyuk/mcp-telegram
```

Note

If you have already installed the server, you can update it using `uv tool upgrade --reinstall` command.

Note

If you want to delete the server, use the `uv tool uninstall mcp-telegram` command.

## Configuration

[Permalink: Configuration](https://github.com/sparfenyuk/mcp-telegram#configuration)

### Telegram API Configuration

[Permalink: Telegram API Configuration](https://github.com/sparfenyuk/mcp-telegram#telegram-api-configuration)

Before you can use the server, you need to connect to the Telegram API.

1. Get the API ID and hash from [Telegram API](https://my.telegram.org/auth)

2. Run the following command:



```
mcp-telegram sign-in --api-id <your-api-id> --api-hash <your-api-hash> --phone-number <your-phone-number>
```







Enter the code you received from Telegram to connect to the API.

The password may be required if you have two-factor authentication enabled.


Note

To log out from the Telegram API, use the `mcp-telegram logout` command.

### Claude Desktop Configuration

[Permalink: Claude Desktop Configuration](https://github.com/sparfenyuk/mcp-telegram#claude-desktop-configuration)

Configure Claude Desktop to recognize the Exa MCP server.

1. Open the Claude Desktop configuration file:


   - in MacOS, the configuration file is located at `~/Library/Application Support/Claude/claude_desktop_config.json`
   - in Windows, the configuration file is located at `%APPDATA%\Claude\claude_desktop_config.json`

> **Note:**
> You can also find claude\_desktop\_config.json inside the settings of Claude Desktop app

2. Add the server configuration



```
{
     "mcpServers": {
       "mcp-telegram": {
           "command": "mcp-server",
           "env": {
             "TELEGRAM_API_ID": "<your-api-id>",
             "TELEGRAM_API_HASH": "<your-api-hash>",
           },
         }
       }
     }
}
```


### Telegram Configuration

[Permalink: Telegram Configuration](https://github.com/sparfenyuk/mcp-telegram#telegram-configuration)

Before working with Telegram’s API, you need to get your own API ID and hash:

1. Login to your Telegram account with the phone number of the developer account to use.
2. Click under API Development tools.
3. A 'Create new application' window will appear. Fill in your application details. There is no need to enter any URL, and only the first two fields (App title and Short name) can currently be changed later.
4. Click on 'Create application' at the end. Remember that your API hash is secret and Telegram won’t let you revoke it. **Don’t post it anywhere!**

## Development

[Permalink: Development](https://github.com/sparfenyuk/mcp-telegram#development)

### Getting started

[Permalink: Getting started](https://github.com/sparfenyuk/mcp-telegram#getting-started)

1. Clone the repository

2. Install the dependencies



```
uv sync
```

3. Run the server



```
uv run mcp-telegram --help
```


Tools can be added to the `src/mcp_telegram/tools.py` file.

How to add a new tool:

1. Create a new class that inherits from ToolArgs



```
class NewTool(ToolArgs):
       """Description of the new tool."""
       pass
```







Attributes of the class will be used as arguments for the tool.
The class docstring will be used as the tool description.

2. Implement the tool\_runner function for the new class



```
@tool_runner.register
async def new_tool(args: NewTool) -> t.Sequence[TextContent | ImageContent | EmbeddedResource]:
       pass
```







The function should return a sequence of TextContent, ImageContent or EmbeddedResource.
The function should be async and accept a single argument of the new class.

3. Done! Restart the client and the new tool should be available.


Validation can accomplished either through Claude Desktop or by running the tool directly.

### Debugging the server in terminal

[Permalink: Debugging the server in terminal](https://github.com/sparfenyuk/mcp-telegram#debugging-the-server-in-terminal)

To run the tool directly, use the following command:

```
# List all available tools
uv run cli.py list-tools

# Run the concrete tool
uv run cli.py call-tool --name ListDialogs --arguments '{"unread": true}'
```

### Debugging the server in the Inspector

[Permalink: Debugging the server in the Inspector](https://github.com/sparfenyuk/mcp-telegram#debugging-the-server-in-the-inspector)

The MCP inspector is a tool that helps to debug the server using fancy UI. To run it, use the following command:

```
npx @modelcontextprotocol/inspector uv run mcp-telegram
```

Warning

Do not forget to define Environment Variables TELEGRAM\_API\_ID and TELEGRAM\_API\_HASH in the inspector.

## Troubleshooting

[Permalink: Troubleshooting](https://github.com/sparfenyuk/mcp-telegram#troubleshooting)

### Message 'Could not connect to MCP server mcp-telegram'

[Permalink: Message 'Could not connect to MCP server mcp-telegram'](https://github.com/sparfenyuk/mcp-telegram#message-could-not-connect-to-mcp-server-mcp-telegram)

If you see the message 'Could not connect to MCP server mcp-telegram' in Claude Desktop, it means that the server configuration is incorrect.

Try the following:

- Use the full path to the `uv` binary in the configuration file
- Check the path to the cloned repository in the configuration file

## About

MCP server to work with Telegram through MTProto


### Topics

[telegram-api](https://github.com/topics/telegram-api "Topic: telegram-api") [claude](https://github.com/topics/claude "Topic: claude") [mcp-servers](https://github.com/topics/mcp-servers "Topic: mcp-servers")

### Resources

[Readme](https://github.com/sparfenyuk/mcp-telegram#readme-ov-file)

### License

[MIT license](https://github.com/sparfenyuk/mcp-telegram#MIT-1-ov-file)

[Activity](https://github.com/sparfenyuk/mcp-telegram/activity)

### Stars

[**15**\\
stars](https://github.com/sparfenyuk/mcp-telegram/stargazers)

### Watchers

[**1**\\
watching](https://github.com/sparfenyuk/mcp-telegram/watchers)

### Forks

[**3**\\
forks](https://github.com/sparfenyuk/mcp-telegram/forks)

[Report repository](https://github.com/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fsparfenyuk%2Fmcp-telegram&report=sparfenyuk+%28user%29)

## [Releases](https://github.com/sparfenyuk/mcp-telegram/releases)

[2tags](https://github.com/sparfenyuk/mcp-telegram/tags)

## [Packages\  0](https://github.com/users/sparfenyuk/packages?repo_name=mcp-telegram)

No packages published

## Languages

- [Python100.0%](https://github.com/sparfenyuk/mcp-telegram/search?l=python)

You can’t perform that action at this time.